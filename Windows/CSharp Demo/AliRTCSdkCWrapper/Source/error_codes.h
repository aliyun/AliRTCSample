#pragma once


#define IsNetworkTimeoutError(err) \
    (((err) & 0x01020200) == 0x01020200)

#define IsDeviceError(err)  \
    (((err) > 0x01040100) && ((err) < 0x01040500))

#define IsAudioDeviceError(err) \
    (false)

#define IsVideoDeviceError(err) \
    IsDeviceError(err)

#define IsSignallingServerError(err)  \
    (((err) & 0x02010000) == 0x02010000)

#define IsServerError(err)            \
    ((ERROR_MT(err) >= EMT_SIGNALING_SERVICE || ERROR_MT(err) <= EMT_MEDIA_SERVICE))

#define IsOutOfSessionError(err)    \
    (((err) == SOPHON_SERVER_ERROR_POLLING) || ((err) == SOPHON_RESULT_SIGNAL_HEARTBEAT_TIMEOUT))

#define MAKE_ERROR_CLASS(mt, smt, at)   \
    (((mt & 0xF) << 16) | (((smt) & 0xF) << 8) | ((at) & 0xFF))

#define MAKE_ERROR_CODE2(ec, sme)   \
    (((ec) << 24) | ((sme) & 0xFFFF))

#define MAKE_ERROR_CODE4(mt, smt, at, sme)   \
    MAKE_ERROR_CODE2(MAKE_ERROR_CLASS(mt, smt, at), sme)

#define ERROR_MT(err)   \
    (((err) >> 24) & 0xF)

#define ERROR_SMT(err)  \
    (((err) >> 16) & 0xF)

#define ERROR_AT(err)  \
    (((err) >> 8) & 0xFF)

#define MAKE_ERROR_CATEGORY(mt, at)   \
    (((mt & 0xF) << 16) | ((at) & 0xFF))

#define ERROR_CATEGORY(err)    \
    (((err) >> 8) & 0xF00FF)

#define EMT_SDK                                 (1)
#define EMT_SIGNALING_SERVICE                   (2)
#define EMT_NETWORK_SERVICE                     (3)
#define EMT_MEDIA_SERVICE                       (4)


//resource
//create peerconnection factory failed
#define ERROR_RESOURCE_PEERCONNECTION_FACTORY   0x01010101

//create local stream failed
#define ERROR_RESOURCE_CREATE_LOCAL_STREAM      0x01010102

//pc client not found
#define ERROR_RESOURCE_PCCLIENT_NOT_FOUND       0x01010103

//medis stream not found
#define ERROR_RESOURCE_MS_NOT_FOUND             0x01010104

//video track not found
#define ERROR_RESOURCE_VIDEO_TRACK_NOT_FOUND    0x01010105

//audio track not found
#define ERROR_RESOURCE_AUDIO_TRACK_NOT_FOUND    0x01010106

//renderer not found
#define ERROR_RESOURCE_RENDERER_NOT_FOUND       0x01010107

//invoke context not found
#define ERROR_RESOURCE_INVOKE_CONTEXT_NOT_FOUND 0x01010108

//create sdp failed
#define ERROR_RESOURCE_CREATE_SDP_FAILED        0x01010109

//create peerconnection failed
#define ERROR_RESOURCE_CREATE_PC_FAILED         0x0101010A

//already create peerconnection
#define ERROR_RESOURCE_ALREADY_CREATE_PC        0x0101010B

//sender not found
#define ERROR_RESOURCE_SENDER_NOT_FOUND         0x0101010C

//receiver not found
#define ERROR_RESOURCE_RECEIVER_NOT_FOUND       0x0101010D

//peerconnection factory is null
#define ERROR_RESOURCE_PEERCONNECTION_FACTORY_NULL   0x0101010E

//playout device not found
#define ERROR_RESOURCE_PLAYOUT_DEIVCE_NOT_FOUND   0x0101010F

//recording device not found
#define ERROR_RESOURCE_RECORDING_DEIVCE_NOT_FOUND   0x01010111

//process sdp failed
#define ERROR_RESOURCE_PROCESS_SDP_FAILED        0x01010112

//permission

//room
//already in the channel
#define ERROR_ROOM_ALREADY_IN                   0x01010301

//leaving now
#define ERROR_ROOM_LEAVING_NOW                  0x01010302

//leave room timeout
#define ERROR_ROOM_LEAVE_TIMEOUT                0x01010303

//not in the channel
#define ERROR_ROOM_NOT_IN_THE_CHANNEL           0X01010304

//publish
//publishing now
#define ERROR_PUBLISH_PUBLISHING_NOW            0x01010401

//you are not a publisher
#define ERROR_PUBLISH_NOT_PUBLISHER             0x01010402

//set max bitrate failed
#define ERROR_PUBLISH_SET_MAXBITRATE_FAILED     0x01010403

//you are already a publisher
#define ERROR_PUBLISH_ALREADY_PUBLISHER         0x01010404

//publish config is invalid
#define ERROR_PUBLISH_CONFIG_IS_INVALID         0x01010405

//subscribe config is invalid
#define ERROR_SUBSCRIBE_CONFIG_IS_INVALID       0x01010501


#define SOPHON_RESULT_GLSBAUTH_OPERATION_ERROR  0x01020101
#define SOPHON_RESULT_CREATE_OPERATION_ERROR    0x01020102
#define SOPHON_RESULT_JOIN_OPERATION_ERROR      0x01020103
#define SOPHON_RESULT_PUBLISH_OPERATION_ERROR   0x01020104
#define SOPHON_RESULT_UNPUBLISH_OPERATION_ERROR 0x01020105
#define SOPHON_RESULT_LISTEN_OPERATION_ERROR    0x01020106
#define SOPHON_RESULT_UNLISTEN_OPERATION_ERROR  0x01020107
#define SOPHON_RESULT_ANSWER_OPERATION_ERROR    0x01020108
#define SOPHON_RESULT_LEAVE_OPERATION_ERROR     0x01020109
#define SOPHON_RESULT_TRICKLE_OPERATION_ERROR   0x0102010A
#define SOPHON_RESULT_UPLINK_MESSAGE_OPERATION_ERROR   0x0102010B
#define SOPHON_RESULT_REPUBLISH_OPERATION_ERROR   0x0102010C
#define SOPHON_RESULT_RELISTEN_OPERATION_ERROR    0x0102010D
#define SOPHON_RESULT_STSUPDATE_OPERATION_ERROR   0x0102010E
#define SOPHON_RESULT_UPDATE_STATUS_ERROR       0x0102010F
#define SOPHON_RESULT_UPDATE_ROLE_ERROR         0x01020110

#define SOPHON_RESULT_GSLB_TIMEOUT              0x01020201
#define SOPHON_RESULT_AUTH_TIMEOUT              0x01020202
#define SOPHON_RESULT_CREATE_TIMEOUT            0x01020203
#define SOPHON_RESULT_JOIN_TIMEOUT              0x01020204
#define SOPHON_RESULT_PUBLISH_TIMEOUT           0x01020205
#define SOPHON_RESULT_UNPUBLISH_TIMEOUT         0x01020206
#define SOPHON_RESULT_LISTEN_TIMEOUT            0x01020207
#define SOPHON_RESULT_UNLISTEN_TIMEOUT          0x01020208
#define SOPHON_RESULT_ANSWER_TIMEOUT            0x01020209
#define SOPHON_RESULT_LEAVE_TIMEOUT             0x0102020A
#define SOPHON_RESULT_TRICKLE_TIMEOUT           0x0102020B
#define SOPHON_RESULT_SIGNAL_HEARTBEAT_TIMEOUT  0x0102020C
#define SOPHON_RESULT_UPLINK_MESSAGE_TIMEOUT    0x0102020D
#define SOPHON_RESULT_REPUBLISH_TIMEOUT         0x0102020E
#define SOPHON_RESULT_RELISTEN_TIMEOUT          0x0102020F
#define SOPHON_RESULT_RECV_PUBLISH_ACK_TIMEOUT  0x01020210
#define SOPHON_RESULT_RECV_UNPUBLISH_ACK_TIMEOUT    0x01020211
#define SOPHON_RESULT_RECV_OFFER_ACK_TIMEOUT        0x01020212
#define SOPHON_RESULT_RECV_BYE_ACK_TIMEOUT          0x01020213
#define SOPHON_RESULT_RECV_MESSAGE_ACK_TIMEOUT      0x01020214
#define SOPHON_RESULT_RECV_JOIN_ACK_TIMEOUT         0x01020215
#define SOPHON_RESULT_RECV_LEAVE_ACK_TIMEOUT        0x01020216
#define SOPHON_RESULT_RECV_SUBSCRIBE_ACK_TIMEOUT    0x01020217
#define SOPHON_RESULT_RECV_UNSUBSCRIBE_ACK_TIMEOUT  0x01020218
#define SOPHON_RESULT_RECV_STATUS_ACK_TIMEOUT       0x01020219
#define SOPHON_RESULT_STSUPDATE_TIMEOUT             0x01020220
#define SOPHON_RESULT_HEARTBEAT_TIMEOUT             0x01020221
#define SOPHON_RESULT_RECONNECT_TIMEOUT             0x01020222

#define SOPHON_RESULT_SEND_GSLB_FAIL            0x01020301
#define SOPHON_RESULT_SEND_AUTH_FAIL            0x01020302
#define SOPHON_RESULT_SEND_CREATE_FAIL          0x01020303
#define SOPHON_RESULT_SEND_JOIN_FAIL            0x01020304
#define SOPHON_RESULT_SEND_PUBLISH_FAIL         0x01020305
#define SOPHON_RESULT_SEND_UNPUBLISH_FAIL       0x01020306
#define SOPHON_RESULT_SEND_LISTEN_FAIL          0x01020307
#define SOPHON_RESULT_SEND_UNLISTEN_FAIL        0x01020308
#define SOPHON_RESULT_SEND_ANSWER_FAIL          0x01020309
#define SOPHON_RESULT_SEND_LEAVE_FAIL           0x0102030A
#define SOPHON_RESULT_SEND_TRICKLE_FAIL         0x0102030B
#define SOPHON_RESULT_SEND_UPLINK_MESSAGE_FAIL  0x0102030C
#define SOPHON_RESULT_SEND_REPUBLISH_FAIL       0x0102030D
#define SOPHON_RESULT_SEND_RELISTEN_FAIL        0x0102030E
#define SOPHON_RESULT_SEND_STSUPDATE_FAIL       0x0102030F
#define SOPHON_RESULT_SEND_DISCONNECT_FAIL      0x01020310

#define SOPHON_RESULT_LIBCURL_ERROR             0x01020401
#define SOPHON_RESULT_LIBCURL_TIMEOUT_WARNING   0x01020402

#define SOPHON_RESULT_JSON_MSG_PARSE_ERROR      0x01020501
#define SOPHON_RESULT_JSON_MSG_NO_CODE          0x01020502
#define SOPHON_RESULT_DECRYPT_FAIL_ERROR        0x01020503

// Error Code for Sdk Impl
#define SDK_RESULT_INVALID_ARGUMENTS            0x01030103
#define SDK_LOG_ALREADY_INIT                    0x01030105
#define SDK_LOG_ROOT_PATH_ERROR                 0x01030106

//error code of sophon signal server side
#define SOPHON_SERVER_ERROR_SUBSCRIBE           0x02010101
#define    SOPHON_SERVER_ERROR_UNSUBSCRIBE      0x02010102
#define    SOPHON_SERVER_ERROR_UNPUBLISH        0x02010103
#define    SOPHON_SERVER_ERROR_JOIN             0x02010104
#define    SOPHON_SERVER_ERROR_POLLING          0x02010105 //no sesson, etc...
#define    SOPHON_SERVER_ERROR_PUBLISH          0x02010106
#define    SOPHON_SERVER_ERROR_ANSWER           0x02010107
#define    SOPHON_SERVER_ERROR_ICECANDIDATE     0x02010108
#define    SOPHON_SERVER_ERROR_LEAVE            0x02010109
#define    SOPHON_SERVER_ERROR_RESPONSE         0x02010110
#define    SOPHON_SERVER_ERROR_MESSAGE          0x02010111
#define    SOPHON_SERVER_ERROR_REPUBLISH        0x02010112
#define    SOPHON_SERVER_ERROR_RESUBSCRIBE      0x02010113

#define SDK_RESULT_PARAMETER_ERROR              0x01030101
#define SDK_RESULT_PENDING                      0x01030104
#define SDK_RESULT_GSLB_ERROR                   0x01030201
#define SDK_RESULT_JOIN_ERROR                   0x01030202
#define SDK_RESULT_LEAVE_ERROR                  0x01030203
#define SDK_RESULT_WRONG_STATE_ERROR            0x01030204
#define SDK_RESULT_PUBLISH_ERROR                0x01030301
#define SDK_RESULT_PUBLISH_ALREADY_EXIST        0x01030302
#define SDK_RESULT_UNPUBLISH_FAIL_ERROR         0x01030303
#define SDK_RESULT_PUBLISH_NOT_EXIST            0x01030304
#define SDK_RESULT_PUBLISH_INVALID              0x01030305
#define SDK_RESULT_PUBLISH_WAITING_RESULT       0x01030306
#define SDK_RESULT_PUBLISH_INVALID_PARAM        0x01030307
#define SDK_RESULT_PUBLISH_NO_TRACK_LABEL       0x01030308
#define SDK_RESULT_PUBLISH_NO_AVALIBLE_TRACKS   0x01030309
#define SDK_RESULT_PUBLISH_CREATE_CAMERA_ERROR  0x0103030A
#define SDK_RESULT_PUBLISH_CREATE_SCREENSHARE_ERROR 0x0103030B
#define SDK_RESULT_PUBLISH_CREATE_SUPER_ERROR   0x0103030C
#define SDK_RESULT_PUBLISH_WRONG_ROLE_ERROR    0x0103030D
#define SDK_RESULT_SUBSCRIBE_ALREAY_EXIST       0x01030401
#define SDK_RESULT_SUBSCRIBE_INTERNAL_ERROR     0x01030402
#define SDK_RESULT_SUBSCRIBE_NOT_EXIST          0x01030403
#define SDK_RESULT_SUBSCRIBE_INVALID            0x01030404
#define SDK_RESULT_SUBSCRIBE_NO_TRACK_LABEL     0x01030405
#define SDK_RESULT_OPENCAMERA_ERROR             0x01030501
#define SDK_RESULT_CLOSECAMERA_ERROR            0x01030502
#define SDK_RESULT_RESTARTCAMERA_ERROR          0x01030503
#define SDK_RESULT_RENDER_DUPLICATE_ERROR       0x01030504
#define SDK_RESULT_NO_AUDIO_RECORDER_ERROR      0x01030505
#define SDK_RESULT_CREATE_ENUMERATOR_ERROR      0x01030601
#define SDK_RESULT_INVALID_DEVICENAME_ERROR     0x01030602
#define SDK_RESULT_CREATE_DEVICE_ERROR          0x01030603
#define SDK_RESULT_NOCAMERA_ERROR               0x01030604
#define SDK_RESULT_NORENDER_ERROR               0x01030605
#define SDK_RESULT_NOAUDIOCTL_ERROR             0x01030701
#define SDK_RESULT_AUDIOCTL_INIT_PLAYOUT_ERROR  0x01030702
#define SDK_RESULT_AUDIOCTL_SET_PLAYOUT_ERROR   0x01030703
#define SDK_RESULT_AUDIOCTL_START_PLAYOUT_ERROR 0x01030704
#define SDK_RESULT_AUDIOCTL_STOP_PLAYOUT_ERROR  0x01030705
#define SDK_RESULT_AVCONFIG_FETCH_ERROR         0x01030706
#define SDK_RESULT_DNS_FETCH_NONE               0x01030707
#define SDK_RESULT_SRTP_AUTH_CHECK_ERROR        0x01030708


// Error Code for Device Manager
#define SDK_RESULT_CAPTURE_CREATE_ERROR         0x01040101
#define SDK_RESULT_CAPTURE_ENUMERATE_ERROR      0x01040102
#define SDK_RESULT_CAMERA_DEVICE_OPEN_ERROR     0x01040104
#define SDK_RESULT_CAMERA_DEVICE_CAPTURE_ERROR  0x01040106
#define SDK_RESULT_RENDER_CREATE_ERROR          0x01040201
#define SDK_RESULT_RENDER_UPDATE_ERROR          0x01040202
#define SDK_RESULT_RENDER_ENUMERATE_ERROR       0x01040203
#define SDK_RESULT_DECODER_CREATE_ERROR         0x01040301
#define SDK_RESULT_DECODER_ENUMERATE_ERROR      0x01040302
#define SDK_RESULT_ENCODER_CREATE_ERROR         0x01040401
#define SDK_RESULT_ENCODER_ENUMERATE_ERROR      0x01040402

//#define SDK_RESULT_AUDIO_DEVICE_ERROR           0x01040403
#define SDK_RESULT_AUDIO_DEVICE_INIT_RECORD_ERROR    0x01040404
#define SDK_RESULT_AUDIO_DEVICE_INIT_PLAY_ERROR      0x01040405
#define SDK_RESULT_AUDIO_DEVICE_RECORDING_ERROR      0x01040406
#define SDK_RESULT_AUDIO_DEVICE_PLAYING_ERROR        0x01040407
#define SDK_RESULT_AUDIO_DEVICE_RECORDING_AUTH_FAILED 0x01040408
#define SDK_RESULT_AUDIO_DEVICE_MIC_ENUMERATE_ERROR   0x01040409
#define SDK_RESULT_AUDIO_DEVICE_SPEAKER_ENUMERATE_ERROR 0x01040410

// Error Code for ICE Connection
#define SDK_RESULT_ICE_CONNECTION_FAILED        0x01050101
#define SDK_RESULT_ICE_CONNECTION_DISCONNECTED  0x01050102
#define SDK_RESULT_ICE_CONNECTION_CONNECTED_TIMEOUT 0x01050201
#define SDK_RESULT_ICE_CONNECTION_FAILED_TIMEOUT    0x01050202


// Error Code for General
#define SDK_LAG_PERFORMANCE                     0x01060101
#define SDK_RESTORE_PERFORMANCE                 0x01060102


// define the waring in sdk
#define SDK_WARNING_NETWORK_WEAK                    0x00000101     //used by dingding
#define SDK_WARNING_NETWORK_RECOVERY                0x00000102     //used by dingding
#define SDK_WARNING_LOCAL_NETWORK_DISCONNECT        0x00000103
#define SDK_WARNING_REMOTE_NETWORK_DISCONNECT       0x00000104
#define SDK_WARNING_LOCAL_NETWORK_CONNECT           0x00000105
#define SDK_WARNING_REMOTE_NETWORK_CONNECT          0x00000106



#define SDK_CDN_LIVE_STREAMING_SIGNALING_ERROR          0x01070003
#define SDK_CDN_LIVE_STREAMING_SETSDP_FAILURE           0x01070004
#define SDK_CDN_LIVE_STREAMING_NO_PULL_STREAMS          0x01070005
#define SDK_CDN_LIVE_STREAMING_NEED_RESTART             0x01070006
#define SDK_CDN_LIVE_STREAMING_RESTART_AGAIN_LATER      0x01070007
#define SDK_CDN_LIVE_STREAMING_SERVICE_DEGRADATION      0x01070008
#define SDK_CDN_LIVE_STREAMING_NETWORK_INTERRUPTION_ERROR     0x01070009

// audio io error code
#define SDK_AUDIO_INPUT_BUFFER_FULL                 0x01070101
